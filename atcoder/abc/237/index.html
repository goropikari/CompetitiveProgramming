<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/CompetitiveProgramming/libs/katex/katex.min.css"> <link rel=stylesheet  href="/CompetitiveProgramming/libs/highlight/github.min.css"> <link rel=stylesheet  href="/CompetitiveProgramming/css/franklin.css"> <link rel=stylesheet  href="/CompetitiveProgramming/css/poole_hyde.css"> <style> html {font-size: 17px;} .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;} @media (min-width: 940px) { .franklin-content {width: 100%; margin-left: auto; margin-right: auto;} } @media (max-width: 768px) { .franklin-content {padding-left: 6%; padding-right: 6%;} } .result-title a { text-decoration: none; } .result-title a:hover { text-decoration: underline; } .result-preview { color: #808080; } .resultCount { color: #808080; } .result-query { font-weight: bold; } #lunrSearchForm { margin-top: 1em; } </style> <link rel=icon  href="/CompetitiveProgramming/assets/favicon.png"> <title>ABC 237</title> <script src="/CompetitiveProgramming/libs/lunr/lunr.min.js"></script> <script src="/CompetitiveProgramming/libs/lunr/lunr_index.js"></script> <script src="/CompetitiveProgramming/libs/lunr/lunrclient.min.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-112840751-3"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-112840751-3'); </script> <div class=sidebar > <div class="container sidebar-sticky"> <div class=sidebar-about > <h1><a href="/CompetitiveProgramming/">競プロ メモ</a></h1> </div> <nav class=sidebar-nav > <a class="sidebar-nav-item " href="/CompetitiveProgramming/">Home</a> <a class="sidebar-nav-item " href="/CompetitiveProgramming/tag/algorithm/">Algorithm</a> <a class="sidebar-nav-item " href="/CompetitiveProgramming/tag/atcoder/">AtCoder</a> <a class="sidebar-nav-item " href="/CompetitiveProgramming/tag/abc/">ABC</a> <a class="sidebar-nav-item " href="/CompetitiveProgramming/tag/arc/">ARC</a> <form id=lunrSearchForm  name=lunrSearchForm > <input class=search-input  name=q  placeholder="Enter search term" type=text > <input type=submit  value=Search  formaction="/CompetitiveProgramming/src/search"> </form> </nav> <p>&copy; <a href=https://github.com/goropikari>goropikari</a>.</p> </div> </div> <div class="content container"> <div class=franklin-content > <h1 id=a_hrefhttpsatcoderjpcontestsabc237abc_237 ><a href="#a_hrefhttpsatcoderjpcontestsabc237abc_237" class=header-anchor ><a href="https://atcoder.jp/contests/abc237">ABC 237</a></a></h1> <div class=franklin-toc ><ol><li><a href="#c_-_kasaka">C - kasaka</a><li><a href="#d_-_lr_insertion">D - LR insertion</a><li><a href="#e_-_skiing">E - Skiing</a></ol></div> <h2 id=c_-_kasaka ><a href="#c_-_kasaka" class=header-anchor >C - kasaka</a></h2> <p>先頭にある連続する <code>a</code> の数を <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>, 末尾に連続する <code>a</code> の数を <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> とすると <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>&gt;</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x &gt; y</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&gt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> のとき, どうやっても回文にはできない. それ以外のとき, 先頭と末尾の <code>a</code> を消して残った文字が回文になっていれば <code>Yes</code>, そうでなければ <code>No</code>.</p> <p>初め以下のようなコードを書き AC を取れてしまったが, これは嘘解法.</p> <pre><code class="cpp hljs"><span class=hljs-function ><span class=hljs-type >void</span> <span class=hljs-title >solve</span><span class=hljs-params >()</span> </span>{
    string s;
    cin &gt;&gt; s;
    <span class=hljs-type >int</span> l = <span class=hljs-number >0</span>, r = (<span class=hljs-type >int</span>)s.<span class=hljs-built_in >size</span>() - <span class=hljs-number >1</span>;
    <span class=hljs-keyword >while</span> (l &lt; r) {
        <span class=hljs-comment >// 頭に a を追加する</span>
        <span class=hljs-keyword >if</span> (s[l] != <span class=hljs-string >&#x27;a&#x27;</span> &amp;&amp; s[r] == <span class=hljs-string >&#x27;a&#x27;</span>) {
            r--;
        } <span class=hljs-keyword >else</span> <span class=hljs-keyword >if</span> (s[l] == s[r]) {
            l++;
            r--;
        } <span class=hljs-keyword >else</span> {
            cout &lt;&lt; <span class=hljs-string >&quot;No&quot;</span> &lt;&lt; endl;
            <span class=hljs-keyword >return</span>;
        }
    }
    cout &lt;&lt; <span class=hljs-string >&quot;Yes&quot;</span> &lt;&lt; endl;
    <span class=hljs-keyword >return</span>;
}</code></pre> <p><code>axyaxa</code> という文字列のとき上のプログラムだと <code>Yes</code> を出力するが, 本来は <code>No</code> を出力すべき</p> <h2 id=d_-_lr_insertion ><a href="#d_-_lr_insertion" class=header-anchor >D - LR insertion</a></h2> <p><a href="https://atcoder.jp/contests/abc237/tasks/abc237_d">問題</a></p> <pre><code class="cpp hljs"><span class=hljs-function ><span class=hljs-type >void</span> <span class=hljs-title >solve</span><span class=hljs-params >()</span> </span>{
    <span class=hljs-type >int</span> n;
    cin &gt;&gt; n;
    string s;
    cin &gt;&gt; s;
    deque&lt;<span class=hljs-type >int</span>&gt; deq = {n};
    <span class=hljs-keyword >for</span> (<span class=hljs-type >int</span> i = n<span class=hljs-number >-1</span>; i &gt;= <span class=hljs-number >0</span>; i--) {
        <span class=hljs-keyword >if</span> (s[i] == <span class=hljs-string >&#x27;R&#x27;</span>) {
            deq.<span class=hljs-built_in >push_front</span>(i);
        } <span class=hljs-keyword >else</span> {
            deq.<span class=hljs-built_in >push_back</span>(i);
        }
    }
    <span class=hljs-built_in >rep</span>(i,n+<span class=hljs-number >1</span>) {
        <span class=hljs-keyword >if</span> (i == <span class=hljs-number >0</span>) cout &lt;&lt; deq.<span class=hljs-built_in >at</span>(i);
        <span class=hljs-keyword >else</span> cout &lt;&lt; <span class=hljs-string >&#x27; &#x27;</span> &lt;&lt; deq.<span class=hljs-built_in >at</span>(i);
    }
    cout &lt;&lt; endl;
}</code></pre> <p>愚直にやるならば双方向連結リストの要領で要素の挿入をいっていけば良い.</p> <p>スマートにやるならば deque を使い <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >{</mo><mi>N</mi><mo stretchy=false >}</mo></mrow><annotation encoding="application/x-tex">\{ N \}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >{</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class=mclose >}</span></span></span></span> の状態から初めてクエリを逆順に処理していき, <code>R</code> ならば先頭に, <code>L</code> ならば末尾に要素を追加していくとよい.</p> <ul> <li><p><a href="https://atcoder.jp/contests/abc237/submissions/28964162">提出コード 愚直な連結リストもどき</a></p> <li><p><a href="https://atcoder.jp/contests/abc237/submissions/28964737">提出コード deque</a></p> </ul> <h2 id=e_-_skiing ><a href="#e_-_skiing" class=header-anchor >E - Skiing</a></h2> <p><a href="https://atcoder.jp/contests/abc237/tasks/abc237_e">問題</a></p> <p>楽しさを最大化したいから楽しさの増減を辺のコストとすると最長経路問題となる. 最長経路問題はコストを <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-1</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.72777em;vertical-align:-0.08333em;"></span><span class=mord >−</span><span class=mord >1</span></span></span></span> 倍して最短経路問題を解くと求まる. ダイクストラ法では負のコストを扱えず, ベルマンフォード法では計算量が <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy=false >(</mo><mi mathvariant=normal >∣</mi><mi>V</mi><mi mathvariant=normal >∣</mi><mi mathvariant=normal >∣</mi><mi>E</mi><mi mathvariant=normal >∣</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">O(|V||E|)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class=mopen >(</span><span class=mord >∣</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class=mord >∣∣</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class=mord >∣</span><span class=mclose >)</span></span></span></span> となるので 今回の問題だと TLE になる.</p> <div class=page-foot > <div class=copyright > &copy; <a href=https://github.com/goropikari>goropikari</a>. Last modified: April 10, 2022. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. This site source is located at <a href=https://goropikari.github.io/CompetitiveProgramming>goropikari/CompetitiveProgramming</a> </div> </div> </div> </div>