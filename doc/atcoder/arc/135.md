+++
title = "ARC 135"
hascode = true
date = Date(2022, 2, 13)
+++
@def tags = ["atcoder", "arc"]

# [ARC 135](https://atcoder.jp/contests/arc135)

\tableofcontents

## A - Floor, Ceil - Decomposition

数字 $x$ をそのままにするか, $\lfloor \frac{x}{2} \rfloor$, $\lceil \frac{x}{2} \rceil$ に書き換えるかは
$x < \lfloor \frac{x}{2} \rfloor \times \lceil \frac{x}{2} \rceil$ となれば書き換えたほうが全体の積が大きくなり,
その他の場合は $x$ のままにするのがよい.

おおよそ $\displaystyle \left\lfloor \frac{x}{2} \right\rfloor \times \left\lceil \frac{x}{2} \right\rceil \approx \frac{x^2}{4}$ となることを考え,
$y = x$ と $y = \frac{x^2}{4}$ のグラフを描くと $0 \leq x \leq 4$ の区間では $y = x$ が,
$x > 4$ の区間では $y = x^2 / 4$ のほうが大きいことがわかる.

![arc135_a](/assets/atcoder/arc/135/arc135_a.png)

$g(x) = \max(x, \left\lfloor \frac{x}{2} \right\rfloor \times \left\lceil \frac{x}{2} \right\rceil)$ とすると

- $g(1) = \max(1, 0 \times 1) = 1$
- $g(2) = \max(2, 1 \times 1) = 2$
- $g(3) = \max(3, 1 \times 2) = 3$
- $g(4) = \max(4, 2 \times 2) = 4$
- $g(5) = \max(5, 2 \times 3) = 6$
- $\vdots$

となり, $1 \leq x \leq 4$ の区間では $x$ そのまま,
$x > 4$ の区間では floor, ceil に分解して積をとったほうが良いことがわかる.
($x = 4$ のときはそのままでも分解してもどちらでも一緒だけれども)

答えは

\begin{align}
    f(x) =
    \left\{
        \begin{aligned}
            &x ~~ \text{ if } 1 \leq x \leq 4 \\
            &\left\lfloor \frac{x}{2} \right\rfloor \times \left\lceil \frac{x}{2} \right\rceil ~~ \text{ otherwise}
        \end{aligned}
    \right.
\end{align}

として, $f(X)$ を計算すれば良い.

メモ化を使えば高速に答えを求めることができる.

[提出コード](https://atcoder.jp/contests/arc135/submissions/29317661)
